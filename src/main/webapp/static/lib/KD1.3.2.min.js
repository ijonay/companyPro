(function(n,p){var e=this.KD={};e.InputSet={doChecked:function(a,c){function b(a,b){g?a.attr("disabled")||a.attr("checked",b?"checked":""):a.prop("disabled")||a.prop("checked",b?"checked":"")}function d(){var a=!1;$(c).each(function(){a=g?$(this).attr("disabled")?!0:$(this).attr("checked"):$(this).prop("disabled")?!0:$(this).prop("checked");if(!a)return!1});return a}var g=void 0!=$(a).attr("checked");$(a).click(function(){var a=g?$(this).attr("checked"):$(this).prop("checked");$(c).each(function(){b($(this),
a)})});$(c).click(function(){b($(a),d())})},getChkSelectVal:function(a){var c=void 0!=$(a).eq(0).attr("checked"),b=!1,d=[];$(a).each(function(){c?$(this).attr("disabled")||(b=$(this).attr("checked")):$(this).prop("disabled")||(b=$(this).prop("checked"));b&&d.push($(this).val())});return d}};e.Url={getKeys:function(){var a=[],c;for(c in this.getKeyVal())a.push(c);return a},getKeyVal:function(a){a||(a=window.location.search);for(var c=[],b=/([\?|&])(.+?)=([^&?]*)/ig,d=b.exec(a);d;)c[d[2]]=d[3],d=b.exec(a);
return c},getByKey:function(a){return this.getKeyVal()[a]},getQuery:function(a,c){c||(c=window.location.search.substr(1));var b=c.match(new RegExp("(^|&)"+a+"=([^&]*)(&|$)","i"));return null!=b?decodeURI(b[2]):""},getQueryArrayJson:function(a){return $.parseJSON("{"+this.getQueryArray(a).join(",")+"}")},getQueryArray:function(a){var c=[];if(null==a){a=this.getKeys();for(var b=this.getKeyVal(),d=0;d<a.length;d++)c.push('"'+a[d]+'":"'+e.replaceStrAll(b[a[d]],'"','\\"')+'"')}else for(d=0;d<a.length;d++)c.push('"'+
a[d]+'":"'+e.replaceStrAll(this.getQuery(a[d]),'"','\\"')+'"');return c},setQuery:function(a){for(var c=0;c<a.length;c++)a[c]=a[c]+"="+$("#"+a[c]).val();return a.join("&")},setIdsToQuery:function(a,c){for(var b=[],d=0;d<a.length;d++)b.push(a[d]+":"+$("#"+a[d]).val());return null==c?this.setQueryUrl(b):this.setAndDelQueryUrl(b,c)},setQueryUrl:function(a){for(var c=window.location.search.toLowerCase(),b=0;b<a.length;b++){var d="?",g=a[b].toLowerCase().split(":"),e=g[0];g[0]="";var g=g.join(""),f=new RegExp("[?]{1}"+
e+"=([^&]*)(&|$)"),f=c.match(f);null==f&&(f=new RegExp("[&]{1}"+e+"=([^&]*)(&|$)"),f=c.match(f),d="&");null!=f?c=c.replace(d+e+"="+f[1],d+e+"="+g):""!=c&&null!=c?c+="&"+e+"="+g:(c+="?",c+=e+"="+g)}return window.location.pathname+c},setAndDelQueryUrl:function(a,c){for(var b=window.location.search.toLowerCase(),d=0;d<a.length;d++){var g="?",e=a[d].toLowerCase().split(":"),f=new RegExp("[?]{1}"+e[0]+"=([^&]*)(&|$)"),f=b.match(f);null==f&&(f=new RegExp("[&]{1}"+e[0]+"=([^&]*)(&|$)"),f=b.match(f),g="&");
null!=f?b=b.replace(g+e[0]+"="+f[1],g+e[0]+"="+e[1]):""!=b&&null!=b?b+="&"+e[0]+"="+e[1]:(b+="?",b+=e[0]+"="+e[1])}for(d=0;d<c.length;d++)g="?",e=c[d].toLowerCase(),f=new RegExp("[?]{1}"+e+"=([^&]*)(&|$)"),f=b.match(f),null==f&&(f=new RegExp("[&]{1}"+e+"=([^&]*)(&|$)"),f=b.match(f),g="&"),null!=f&&(b="?"==g?0<b.indexOf("&")?b.replace(g+e+"="+f[1]+"&","?"):b.replace(g+e+"="+f[1],""):b.replace(g+e+"="+f[1],""));return window.location.pathname+b},delQueryUrl:function(a){for(var c=window.location.search.toLowerCase(),
b=0;b<a.length;b++){var d="?",e=a[b].toLowerCase(),h=new RegExp("[?]{1}"+e+"=([^&]*)(&|$)"),h=c.match(h);null==h&&(h=new RegExp("[&]{1}"+e+"=([^&]*)(&|$)"),h=c.match(h),d="&");null!=h&&(c="?"==d?0<c.indexOf("&")?c.replace(d+e+"="+h[1]+"&","?"):c.replace(d+e+"="+h[1],""):c.replace(d+e+"="+h[1],""))}return window.location.pathname+c},bindParamsToIds:function(a){for(var c=0;c<a.length;c++){var b=e.Url.getQuery(a[c]);""!=b&&$("#"+a[c]).val(b)}},bindReUrl:function(a,c){if(c){isNaN(c)&&(c=1);var b=KD.Url.getQuery("reurl"),
b=decodeURIComponent(b);$(a).each(function(){for(var a=1;a<c;a++){var d=b.split("?");1<d.length?(b=b.replace(d[0]+"?",""),b=decodeURIComponent(KD.Url.getQuery("reurl",b))):b=""}KD.isNull(b)||$(this).attr("href",b)});return b}var d=location.pathname+location.search,d=encodeURIComponent(d);$(a).each(function(){var a=$(this).attr("href"),b="?";0!=a.indexOf("#")&&0!=a.indexOf("javascript:")&&(0<=a.indexOf("?")&&(b="&"),$(this).attr("href",a+b+"reurl="+d))});return d}};e.Cookie={addCookie:function(a,c){var b=
new Date;b.setTime(b.getTime()+6E5);document.cookie=a+"="+escape(c)+";expires="+b.toGMTString()+";path=/"},getCookie:function(a){a=document.cookie.match(new RegExp("(^| )"+a+"=([^;]*)(;|$)"));return null!=a?unescape(a[2]):null}};e.Json={binderJson:function(a,c){if(e.isNull(c))return"";var b=[],d="",g=a[0];try{d=e.node(c).innerHTML,e.isNull(d)||(c=d),d=""}catch(f){}e.isNull(a[0])&&(g=a,a=[a]);for(var h in g)b.push(h);if(b.length){for(g=0;g<a.length;g++){FormatHTML=c;for(h=0;h<b.length;h++)FormatHTML=
e.replaceStrAll(FormatHTML,"{"+b[h].toString()+"}",a[g][b[h]]);FormatHTML=e.replaceStrAll(FormatHTML,"{index}",g+1);d+=FormatHTML}return d}return""},bindJsonToTree:function(a,c,b,d){function g(a,b){return"object"==typeof a?void 0==a[b]?a.def:a[b]:a+""}null==d&&(d=0);var h="",h=h+g(c.start,d);KD.Json.each(a,function(a){var l="",k="",k=g(c.item,d),m=!1;KD.isNotNull(a[c.child])||null!=b&&b(a)?(k=k[0],m=!0):k=k[1];l+=KD.Json.binderJson(a,k);m&&(a=e.Json.bindJsonToTree(a[c.child],c,b,d+1),l=KD.replaceStrAll(l,
"{hasChilds}",a));h+=l});d++;return h+=g(c.end,d)},jsonToAnalytical:function(a,c){var b=a,d=[],g;for(g in c)d.push(g);for(g=0;g<d.length;g++)b=e.replaceStrAll(b,"{"+d[g]+"}",c[d[g]]);return b},each:function(a,c){if("function"==typeof c)for(var b=0;b<a.length;b++)c(a[b])},eachRecursive:function(a,c,b,d){if(!(KD.isNull(a)||1>a.length)&&(null==d&&(d=0),"function"==typeof c))for(var g=0;g<a.length;g++){var h=KD.isNotNull(b)&&KD.isNotNull(a[g][b])&&"object"==typeof a[g][b]&&0<a[g][b].length;c(a[g],d,g==
a.length-1);h&&e.Json.eachRecursive(a[g][b],c,b,d+1)}},itemEach:function(a,c){if("function"==typeof c)for(var b=this.getItemArray(a),d=0;d<b.length;d++)c(b[d],a[b[d]],a)},getItemArray:function(a){var c=[];if(e.isNull(a))return c;for(var b in a)c.push(b);return c},getString:function(a){if(!e.isObject(a)||null==a||void 0==a)return a;var c="{0}",b=[];if(a instanceof Array)for(var c="[0]",d=0;d<a.length;d++)e.isObject(a[d])?b.push(e.Json.getString(a[d])):b.push('"'+a[d]+'"');else{var d={},g;for(g in a)if(d[g]!=
a[g]){var h=a[g];e.isObject(h)?b.push('"'+g+'":'+e.Json.getString(h)):b.push('"'+g+'":'+("string"==typeof h?'"'+h+'"':h))}}return e.replaceStrAll(c,"0",b.join(","))}};e.Global={modifyAHref:function(){$("a[href='#']").each(function(){$(this).attr("href","javascript:void(0)")})},replaceErrorImg:function(a){for(var c=document.getElementsByTagName("img"),b=0;b<c.length;b++)c[b].onerror=function(){c[b].src=a}},staticNav:function(a){var c=document.getElementById(a),b=c.offsetTop,d=c.clientWidth;$(window).scroll(function(){(document.documentElement.scrollTop||
document.body.scrollTop)>=b?$("#"+a).css("position","fixed").css("top","0px").css("width",d).css("z-index","1000000").addClass("staticNav"):$("#"+a).css("position","")})},toTop:function(){function a(){0<(document.documentElement.scrollTop||document.body.scrollTop)?$("#divToTop").show():$("#divToTop").hide()}$("body").append('<div id="divToTop"  ><a title="\u8fd4\u56de\u9876\u90e8" href="javascript:void(0)" ></a></div>');$("#divToTop").click(function(){$("html,body").animate({scrollTop:0},1E3)}).attr("style",
"width:64px;position:fixed; left:50%; margin-left:580px; bottom:100px;_position:absolute;left:50%;_top:expression(eval(document.documentElement.scrollTop+document.documentElement.clientHeight-this.offsetHeight)-100);display: none;").find("a").attr("style","background: url('http://izaijia.com/images/toTop.png') no-repeat;width: 54px; height: 54px; display: block;").mouseover(function(){$(this).css("background-position","0 -55px")}).mouseout(function(){$(this).css("background-position","0 0")});window.onscroll=
function(){a()};$(window).scroll(function(){a()})},setEnterBtn:function(a){$("body").unbind("keydown");$("body").keydown(function(c){if(13==c.keyCode)return e.Form.isJqueryNode(a)?$(a).eq(0).click():$("#"+a).click(),!1})}};e.ShowDialog={showTips:function(a,c){$("#JS_TIPS")&&($(".JS_TIPS").remove(),$("#JS_TIPS").remove(),clearTimeout(d));d='<div class="JS_TIPS error" id="JS_TIPS" style="text-align: center;position: fixed;top: 0;left: 0;width: 100%;z-index: 10000;"><div  style="background-color: #2d2d2d;display: inline-block;min-width: 280px;padding: 5px 30px;color: #fff;">'+
a+"</div></div>";$("body").append(d);var b="function"==typeof c;if(!b)try{$("#"+c).focus()}catch(e){}var d=setTimeout(function(){$("#JS_TIPS").animate({opacity:"0"},1E3,function(){$(this).remove();b&&c()})},2E3)},showWarning:function(a,c){$("#JS_TIPS")&&($(".JS_TIPS").remove(),$("#JS_TIPS").remove(),clearTimeout(d));d='<div class="JS_TIPS error" id="JS_TIPS" style="text-align: center;position: fixed;top: 0;left: 0;width: 100%;z-index: 10000;"><div  style="background-color:#bf0a10;display: inline-block;min-width: 280px;padding: 5px 30px;color: #fff;">'+
a+"</div></div>";$("body").append(d);var b="function"==typeof c;if(!b)try{$("#"+c).focus()}catch(e){}var d=setTimeout(function(){$("#JS_TIPS").animate({opacity:"0"},1E3,function(){$(this).remove();b&&c()})},2E3)},floatTips:function(a,c,b,d,e,h,f,l){function k(a){a+="";return""==a?"0":0<a.indexOf("%")||0<a.indexOf("px")?a:a+"px"}null==l&&(l=1);null==e&&(e=200);null==h&&(h="auto");c='<div class="floatdialog"><div style="float: right; cursor: pointer; position: relative;"><div style="position: absolute; left:'+
k(c)+"; top:"+k(b)+"; font-size: 12px; opacity: "+l+";width: "+k(e)+";heigth:"+k(h)+';">'+d+"</div></div></div>";0==$(".floatdialog").length&&(0<a.children().length?a.children().eq(0).before(c):a.before(c));null!=f&&0!=f||a.mouseleave(function(){$(".floatdialog").remove()})}};e.RegExp={isUrl:function(a){return a.toLowerCase().match(/^((https|http|ftp|rtsp|mms)?:\/\/)?(([0-9a-zA-Z_!~*'().&=+$%-]+: )?[0-9a-zA-Z_!~*'().&=+$%-]+@)?(([0-9]{1,3}\.){3}[0-9]{1,3}|([0-9a-zA-Z_!~*'()-]+\.)*([0-9a-zA-Z][0-9a-zA-Z-]{0,61})?[0-9a-zA-Z]\.[a-zA-Z]{2,6})(:[0-9]{1,4})?((\/?)|(\/[0-9a-zA-Z_!~*'().;?:@&=+$,%#-]+)+\/?)$/)?
!0:!1},isEmail:function(a){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,10}){1,2})$/.test(a)},isTelPhone:function(a){return/^((\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$)$/.test(a)},isPhone:function(a){return/^1[3|5|7|8|][0-9]{9}$/.test(a)},isTime:function(a){return(new Date(a)).toString()!=(new Date("is not a time !")).toString()}};e.Animate={LoadingSet:{loadStart:function(a){if(0===$("#loadingbar").length)switch($("body").append('<div id=\'loadingbar\'><style type="text/css" id="loadingbarStyle">#loadingbar{position:fixed;z-index:2147483647;top:0;left:-6px;width:1%;height:2px;background:#b91f1f;-moz-border-radius:1px;-webkit-border-radius:1px;border-radius:1px;-moz-transition:all 500ms ease-in-out;-ms-transition:all 500ms ease-in-out;-o-transition:all 500ms ease-in-out;-webkit-transition:all 500ms ease-in-out;transition:all 500ms ease-in-out;}#loadingbar.left{left:100%;right:0;width:100%;}#loadingbar.up{left:0;top:100%;width:5px;bottom:0;height:100%;}#loadingbar.down{left:0;width:5px;height:0;}#loadingbar.waiting dd,#loadingbar.waiting dt{-moz-animation:pulse 2s ease-out 0 infinite;-ms-animation:pulse 2s ease-out 0 infinite;-o-animation:pulse 2s ease-out 0 infinite;-webkit-animation:pulse 2s ease-out 0 infinite;animation:pulse 2s ease-out 0 infinite;}#loadingbar dt{opacity:.6;width:180px;right:-80px;clip:rect(-6px,90px,14px,-6px);}#loadingbar dd{opacity:.6;width:20px;right:0;clip:rect(-6px,22px,14px,10px);}#loadingbar dd,#loadingbar dt{position:absolute;top:0;height:2px;-moz-box-shadow:#b91f1f 1px 0 6px 1px;-ms-box-shadow:#b91f1f 1px 0 6px 1px;-webkit-box-shadow:#B91F1F 1px 0 6px 1px;box-shadow:#B91F1F 1px 0 6px 1px;-moz-border-radius:100%;-webkit-border-radius:100%;border-radius:100%;}#loadingbar.left dt{opacity:.6;width:180px;left:-4px;clip:rect(-6px,185px,14px,25px);}#loadingbar.left dd{opacity:.6;width:20px;left:0;margin:0;clip:rect(-6px,22px,14px,0px);}#loadingbar.left dd,#loadingbar.left dt{top:0;height:2px;}#loadingbar.down dt{opacity:.6;height:180px;top:auto;bottom:-47px;clip:rect(-6px,20px,130px,-6px);}#loadingbar.down dd{opacity:.6;height:20px;top:auto;bottom:0;clip:rect(-6px,22px,20px,10px);margin:0;}#loadingbar.down dd,#loadingbar.down dt{left:-5px;right:auto;width:10px;}#loadingbar.up dt{opacity:.6;height:180px;bottom:auto;top:-10px;clip:rect(13px,20px,190px,-6px);}#loadingbar.up dd{opacity:.6;height:20px;bottom:auto;top:0;clip:rect(-6px,22px,25px,10px);margin:0;}#loadingbar.up dd,#loadingbar.up dt{left:-5px;right:auto;width:10px;}@keyframes pulse{30opacity:0.6;}60%{opacity:0;}100%{opacity:0.6;}}@-moz-keyframes pulse{30opacity:0.6;}60%{opacity:0;}100%{opacity:0.6;}}@-ms-keyframes pulse{30opacity:0.6;}60%{opacity:0;}100%{opacity:0.6;}}@-webkit-keyframes pulse{30opacity:0.6;}60%{opacity:0;}100%{opacity:0.6;}}</style></div>'),
$("#loadingbar").addClass("waiting").append($("<dt/><dd/>")),a){case "right":$("#loadingbar").width(50+30*Math.random()+"%");break;case "left":$("#loadingbar").addClass("left").animate({right:0,left:100-(50+30*Math.random())+"%"},200);break;case "down":$("#loadingbar").addClass("down").animate({left:0,height:50+30*Math.random()+"%"},200);break;case "up":$("#loadingbar").addClass("up").animate({left:0,top:100-(50+30*Math.random())+"%"},200)}},loadEnd:function(a){switch(a){case "right":$("#loadingbar").width("101%").delay(200).fadeOut(400,
function(){$(this).remove()});break;case "left":$("#loadingbar").css("left","0").delay(200).fadeOut(400,function(){$(this).remove()});break;case "down":$("#loadingbar").height("101%").delay(200).fadeOut(400,function(){$(this).remove()});break;case "up":$("#loadingbar").css("top","0").delay(200).fadeOut(400,function(){$(this).remove()})}}}};e.Form={getElements:function(a){e.isNull(a)&&(a="[data-role='val']");var c=[];$(a).each(function(){c.push($(this).attr("id"))});return c},getParams:function(a,
c){"function"==typeof a&&(c=a,a=null);e.isNull(a)&&(a="[data-role='val']");var b={};$(a).each(function(){var a=$(this).attr("name");e.isNull(a)&&(a=$(this).attr("id"));var c="";if(void 0==b[a])if(c=$(this).attr("type"),"html"==$(this).attr("role-text"))c=$(this).html();else if("radio"==c)c=$("input[name='"+a+"'][type='radio']:checked").val();else if("checkbox"==c){var h=[];$("input[name='"+a+"'][type='checkbox']").each(function(){$(this).prop("checked")&&h.push($(this).val())});c=h.toString()}else c=
$(this).val();e.isNotNull(c)&&"string"==typeof c&&(c=c.replace(/\\/g,"\\\\"));b[a]=c});KD.isFunc(c)&&c(b);return b},getFormData:function(a,c){return e.isNull(a)?null:this.getParams("#"+a+" input,#"+a+" textarea,#"+a+" select",c)},validateField:function(a,c,b){function d(a,b,c){if(!KD.isNull(b))return b;switch(c){case 1:b="\u4e0d\u80fd\u4e3a\u7a7a\uff01";break;case 2:b="\u5fc5\u987b\u662f\u6570\u5b57\uff01";break;case 3:b="\u5bf9\u5e94\u7684\u503c\u4e0d\u80fd\u5927\u4e8e{0}\uff01";break;case 4:b="\u5bf9\u5e94\u7684\u503c\u4e0d\u80fd\u5c0f\u4e8e{0}\uff01";
break;case 5:b="\u4e0d\u80fd\u8d85\u8fc7\u4e2a{0}\u5b57\u7b26\uff01";break;case 6:b="\u4e0d\u80fd\u5c11\u4e8e{0}\u5b57\u7b26\uff01";break;case 7:case 8:case 9:case 10:b="\u683c\u5f0f\u4e0d\u6b63\u786e\uff01";break;case 11:b="\u4e0e\u5bf9\u5e94\u9879\u4e0d\u5339\u914d\uff01";break;case 12:b="\u65f6\u95f4\u683c\u5f0f\u4e0d\u6b63\u786e\uff01";break;case 13:b="\u5bf9\u5e94\u7684\u65f6\u95f4\u4e0d\u80fd\u5927\u4e8e{0}\uff01";break;case 14:b="\u5bf9\u5e94\u7684\u65f6\u95f4\u4e0d\u80fd\u5c0f\u4e8e{0}\uff01"}return a.defSubject+
b}for(var g={objId:"",defSubject:null,isNull:!1,nullMsg:"",isNumber:null,numberMsg:"",isTime:null,timeMsg:"",maxVal:null,maxMsg:"",minVal:null,minMsg:"",maxLength:null,maxLMsg:"",minLength:null,minLMsg:"",isEmail:null,emailMsg:"",isUrl:null,urlMsg:"",isPhone:null,phoneMsg:"",isTelPhone:null,telPhoneMsg:"",verifyId:null,verifyMsg:"",showFunc:null,isVerify:!0,defLength:!1,customFunc:null},h=0;h<a.length;h++){var f=$.extend({},g,a[h]);if(f.isVerify){f.defLength&&(f.maxLength=20,f.minLength=5);var l=
function(a,c){b||(alert(a),null!=c&&$("#"+c).focus().select())};"function"==typeof c&&(b||(l=c));"function"!=typeof f.showFunc||b||(l=f.showFunc);if(e.isFunc(f.customFunc)){var k=f.customFunc(l);if(1!=k&&void 0!=k)return!1}if(!e.isNull(f.objId)){k="";k=($("#"+f.objId).prop("tagName")+"").toLowerCase();k=0==k.indexOf("input")||0==k.indexOf("select")||0==k.indexOf("textarea")?$("#"+f.objId).val():$("#"+f.objId).html();if(!f.isNull&&e.isNull(k))return l(d(f,f.nullMsg,1),f.objId),!1;if(null!=f.isNumber&&
f.isNumber){if(/^[\D]*$/.test(k))return l(d(f,f.numberMsg,2),f.objId),!1;if(null!=f.maxVal&&k>f.maxVal)return l(d(f,f.maxMsg,3).replace(/\{0\}/g,f.maxVal),f.objId),!1;if(null!=f.minVal&&k<f.minVal)return l(d(f,f.minMsg,4).replace(/\{0\}/g,f.minVal),f.objId),!1}if(null!=f.maxLength&&k.length>f.maxLength)return l(d(f,f.maxLMsg,5).replace(/\{0\}/g,f.maxLength),f.objId),!1;if(null!=f.minLength&&k.length<f.minLength)return l(d(f,f.minLMsg,6).replace(/\{0\}/g,f.minLength),f.objId),!1;if(null!=f.isEmail&&
!e.RegExp.isEmail(k))return l(d(f,f.emailMsg,7),f.objId),!1;if(null!=f.isUrl&&!e.RegExp.isUrl(k))return l(d(f,f.urlMsg,8),f.objId),!1;if(null!=f.isPhone&&!e.RegExp.isPhone(k))return l(d(f,f.phoneMsg,9),f.objId),!1;if(null!=f.isTelPhone&&!e.RegExp.isTelPhone(k))return l(d(f,f.telPhoneMsg,10),f.objId),!1;if(null!=f.verifyId&&k!=$("#"+f.verifyId).val())return l(d(f,f.verifyMsg,11),f.objId),!1;if(null!=f.isTime&&f.isTime)if(e.RegExp.isTime(k)){k=new Date(k);if(null!=f.maxVal&&0>e.Date.minusTime(k,f.maxVal))return l(d(f,
f.maxMsg,13).replace(/\{0\}/g,e.Date.format(f.maxVal)),f.objId),!1;if(null!=f.minVal&&0>e.Date.minusTime(f.minVal,k))return l(d(f,f.minMsg,14).replace(/\{0\}/g,e.Date.format(f.minVal)),f.objId),!1}else return l(d(f,f.timeMsg,12),f.objId),!1}}}return!0},focus:function(a,c){var b="input:text,textarea";e.isNull(c)||(b="#"+c+" "+b);if(e.isNull(a))a=0;else if(isNaN(parseInt(a))){$(b).filter("#"+a).focus();return}$(b).eq(a).focus()},keyUpOnValChange:function(a,c,b){$("#"+a).keyup(function(){var d=$("#"+
a).val();if(KD.isNull(d)||$("#"+a).attr("data-old-"+a)==d)return!1;$("#"+a).attr("data-old-"+a,d);setTime=null;e.isNull(b)&&(b=888);setTime=setTimeout(function(){$("#"+a).val()==d&&c()},b)})},isJqueryNode:function(a){try{return $(a)}catch(c){return!1}},bindVal:function(a,c){function b(a){switch(a.prop("tagName").toLowerCase()){case "input":case "textarea":case "select":a.val(c);break;case "img":a.attr("src",c);break;case "a":a.attr("href",c);break;default:a.html(c)}}if(null!=c){var d=e.isJqueryNode("#"+
a);if(d&&(0<d.length&&b(d),d=$("[data-bindId='"+a+"']"),0<d.length))for(var g=0;g<d.length;g++)b(d.eq(g))}},bindJsonToNode:function(a){e.Json.itemEach(a,e.Form.bindVal)}};e.Date={format:function(a,c){e.isNull(c)&&(c="yyyy/MM/dd");var b="";"string"==typeof a?0<a.indexOf("/Date(")?(a=(a+"").replace("/Date(","").replace(")/",""),0<a.indexOf("+")?a=a.substring(0,a.indexOf("+")):0<a.indexOf("-")&&(a=a.substring(0,a.indexOf("-"))),b=new Date(parseInt(a,10))):b=new Date(a):b=a;var d={"M+":b.getMonth()+1,
"d+":b.getDate(),"h+":b.getHours(),"m+":b.getMinutes(),"s+":b.getSeconds(),"q+":Math.floor((b.getMonth()+3)/3),S:b.getMilliseconds()};/(y+)/.test(c)&&(c=c.replace(RegExp.$1,(b.getFullYear()+"").substr(4-RegExp.$1.length)));for(var g in d)(new RegExp("("+g+")")).test(c)&&(c=c.replace(RegExp.$1,1==RegExp.$1.length?d[g]:("00"+d[g]).substr((""+d[g]).length)));return 1==b.getFullYear()?"":c},minusTime:function(a,c){return Date.parse(c)-Date.parse(a)}};e.Extensions={bind:function(){Array.prototype.remove=
function(a){a=this.indexOf(a);-1<a&&this.splice(a,1);return this};Array.prototype.indexOf=function(a){for(var c=0;c<this.length;c++)if((this[c]+"").toLowerCase()==(a+"").toLowerCase())return c;return-1}}};e.isFunc=function(a){return"function"==typeof a};e.isObject=function(a){return"object"==typeof a};e.isNull=function(a){return""==a||void 0==a||null==a};e.isNotNull=function(a){return!e.isNull(a)};e.replaceStrAll=function(a,c,b){if(null==b||void 0==b)b="";return"object"==typeof a?a:a.replace(new RegExp(c,
"g"),b)};e.node=function(a){return document.getElementById(a)};e.getQuery=e.Url.getQuery;e.doAjax=function(a){var c=function(a,b,c){console.log(a);console.log(b);console.log(c);if(void 0!=a.responseText){b={};try{b=$.parseJSON(a.responseText)}catch(d){b.exceptionMessage=c}if(void 0!=b.exceptionMessage)return e.ShowDialog.showWarning(b.exceptionMessage),!1}e.ShowDialog.showWarning("\u4fe1\u606f\u52a0\u8f7d\u9519\u8bef\uff01")},b=$.extend({},{type:"POST",async:!0,url:"",data:"",dataType:null,contentType:null,
error:null,beforeSend:function(){},success:function(a,b,c){},animate:!0,direction:"right"},a);null==b.error&&(b.error=c);var d=!0;try{"boolean"!=typeof b.error||b.error||(b.error=function(a){},d=!1);var g={dataType:b.dataType,type:b.type,async:b.async,url:b.url,data:b.data,error:b.error,success:b.success,beforeSend:function(){d&&b.animate&&e.Animate.LoadingSet.loadStart(b.direction);b.beforeSend()}};this.isNull(b.contentType)||(g.contentType=b.contentType);var h=$.ajax(g);h.always(function(){d&&b.animate&&
e.Animate.LoadingSet.loadEnd(b.direction)});return h}catch(f){d&&b.animate&&e.Animate.LoadingSet.loadEnd(b.direction)}};e.post=function(a,c,b,d,g){return e.doAjax({type:"POST",url:a,data:c,success:b,error:d,animate:g})};e.postN=function(a,c,b,d){e.post(a,c,b,d,!1)};e.get=function(a,c,b,d,g){return e.doAjax({type:"GET",url:a,data:c,success:b,error:d,animate:g})};e.getHtml=function(a,c,b){return e.get(a,null,c,b)};e.getN=function(a,c,b,d){e.get(a,c,b,d,!1)};e.del=function(a,c,b,d,g){return e.doAjax({type:"DELETE",
url:a,data:c,success:b,error:d,animate:g})};e.put=function(a,c,b,d,g){return e.doAjax({type:"PUT",url:a,data:c,success:b,error:d,animate:g})};e.ajax=function(a,c,b,d,g,h,f){return e.doAjax({type:c,url:a,data:b,success:d,error:g,contentType:h,dataType:f})};e.showTips=e.ShowDialog.showTips;e.showWarning=e.ShowDialog.showWarning;e.isJqueryNode=e.Form.isJqueryNode;e.Extensions.bind()})(window);