(function(c,b){var a=this.KD={};a.InputSet={doChecked:function(f,j){function e(g,d){h?g.attr("disabled")||g.attr("checked",d?"checked":""):g.prop("disabled")||g.prop("checked",d?"checked":"")}function i(){var d=!1;$(j).each(function(){d=h?$(this).attr("disabled")?!0:$(this).attr("checked"):$(this).prop("disabled")?!0:$(this).prop("checked");if(!d){return !1}});return d}var h=void 0!=$(f).attr("checked");$(f).click(function(){var d=h?$(this).attr("checked"):$(this).prop("checked");$(j).each(function(){e($(this),d)})});$(j).click(function(){e($(f),i())})},getChkSelectVal:function(f){var h=void 0!=$(f).eq(0).attr("checked"),e=!1,g=[];$(f).each(function(){h?$(this).attr("disabled")||(e=$(this).attr("checked")):$(this).prop("disabled")||(e=$(this).prop("checked"));e&&g.push($(this).val())});return g}};a.Url={getKeys:function(){var d=[],e;for(e in this.getKeyVal()){d.push(e)}return d},getKeyVal:function(f){f||(f=window.location.search);for(var h=[],e=/([\?|&])(.+?)=([^&?]*)/ig,g=e.exec(f);g;){h[g[2]]=g[3],g=e.exec(f)}return h},getByKey:function(d){return this.getKeyVal()[d]},getQuery:function(e,f){f||(f=window.location.search.substr(1));var d=f.match(new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"));return null!=d?decodeURI(d[2]):""},getQueryArrayJson:function(d){return $.parseJSON("{"+this.getQueryArray(d).join(",")+"}")},getQueryArray:function(f){var h=[];if(null==f){f=this.getKeys();for(var e=this.getKeyVal(),g=0;g<f.length;g++){h.push('"'+f[g]+'":"'+a.replaceStrAll(e[f[g]],'"','\\"')+'"')}}else{for(g=0;g<f.length;g++){h.push('"'+f[g]+'":"'+a.replaceStrAll(this.getQuery(f[g]),'"','\\"')+'"')}}return h},setQuery:function(d){for(var e=0;e<d.length;e++){d[e]=d[e]+"="+$("#"+d[e]).val()}return d.join("&")},setIdsToQuery:function(f,h){for(var e=[],g=0;g<f.length;g++){e.push(f[g]+":"+$("#"+f[g]).val())}return null==h?this.setQueryUrl(e):this.setAndDelQueryUrl(e,h)},setQueryUrl:function(i){for(var n=window.location.search.toLowerCase(),h=0;h<i.length;h++){var m="?",j=i[h].toLowerCase().split(":"),l=j[0];j[0]="";var j=j.join(""),k=new RegExp("[?]{1}"+l+"=([^&]*)(&|$)"),k=n.match(k);null==k&&(k=new RegExp("[&]{1}"+l+"=([^&]*)(&|$)"),k=n.match(k),m="&");null!=k?n=n.replace(m+l+"="+k[1],m+l+"="+j):""!=n&&null!=n?n+="&"+l+"="+j:(n+="?",n+=l+"="+j)}return window.location.pathname+n},setAndDelQueryUrl:function(i,n){for(var h=window.location.search.toLowerCase(),m=0;m<i.length;m++){var j="?",l=i[m].toLowerCase().split(":"),k=new RegExp("[?]{1}"+l[0]+"=([^&]*)(&|$)"),k=h.match(k);null==k&&(k=new RegExp("[&]{1}"+l[0]+"=([^&]*)(&|$)"),k=h.match(k),j="&");null!=k?h=h.replace(j+l[0]+"="+k[1],j+l[0]+"="+l[1]):""!=h&&null!=h?h+="&"+l[0]+"="+l[1]:(h+="?",h+=l[0]+"="+l[1])}for(m=0;m<n.length;m++){j="?",l=n[m].toLowerCase(),k=new RegExp("[?]{1}"+l+"=([^&]*)(&|$)"),k=h.match(k),null==k&&(k=new RegExp("[&]{1}"+l+"=([^&]*)(&|$)"),k=h.match(k),j="&"),null!=k&&(h="?"==j?0<h.indexOf("&")?h.replace(j+l+"="+k[1]+"&","?"):h.replace(j+l+"="+k[1],""):h.replace(j+l+"="+k[1],""))}return window.location.pathname+h},delQueryUrl:function(g){for(var l=window.location.search.toLowerCase(),f=0;f<g.length;f++){var k="?",j=g[f].toLowerCase(),i=new RegExp("[?]{1}"+j+"=([^&]*)(&|$)"),i=l.match(i);null==i&&(i=new RegExp("[&]{1}"+j+"=([^&]*)(&|$)"),i=l.match(i),k="&");null!=i&&(l="?"==k?0<l.indexOf("&")?l.replace(k+j+"="+i[1]+"&","?"):l.replace(k+j+"="+i[1],""):l.replace(k+j+"="+i[1],""))}return window.location.pathname+l},bindParamsToIds:function(e){for(var f=0;f<e.length;f++){var d=a.Url.getQuery(e[f]);""!=d&&$("#"+e[f]).val(d)}},bindReUrl:function(f,h){if(h){isNaN(h)&&(h=1);var e=KD.Url.getQuery("reurl"),e=decodeURIComponent(e);$(f).each(function(){for(var i=1;i<h;i++){var j=e.split("?");1<j.length?(e=e.replace(j[0]+"?",""),e=decodeURIComponent(KD.Url.getQuery("reurl",e))):e=""}KD.isNull(e)||$(this).attr("href",e)});return e}var g=location.pathname+location.search,g=encodeURIComponent(g);$(f).each(function(){var i=$(this).attr("href"),d="?";0!=i.indexOf("#")&&0!=i.indexOf("javascript:")&&(0<=i.indexOf("?")&&(d="&"),$(this).attr("href",i+d+"reurl="+g))});return g}};a.Cookie={addCookie:function(e,f){var d=new Date;d.setTime(d.getTime()+600000);document.cookie=e+"="+escape(f)+";expires="+d.toGMTString()+";path=/"},getCookie:function(d){d=document.cookie.match(new RegExp("(^| )"+d+"=([^;]*)(;|$)"));return null!=d?unescape(d[2]):null}};a.Json={binderJson:function(i,n){if(a.isNull(n)){return""}var e=[],m="",k=i[0];try{m=a.node(n).innerHTML,a.isNull(m)||(n=m),m=""}catch(l){}a.isNull(i[0])&&(k=i,i=[i]);for(var j in k){e.push(j)}if(e.length){for(k=0;k<i.length;k++){FormatHTML=n;for(j=0;j<e.length;j++){FormatHTML=a.replaceStrAll(FormatHTML,"{"+e[j].toString()+"}",i[k][e[j]])}FormatHTML=a.replaceStrAll(FormatHTML,"{index}",k+1);m+=FormatHTML}return m}return""},bindJsonToTree:function(f,l,e,k){function j(g,d){return"object"==typeof g?void 0==g[d]?g.def:g[d]:g+""}null==k&&(k=0);var i="",i=i+j(l.start,k);KD.Json.each(f,function(h){var g="",n="",n=j(l.item,k),d=!1;KD.isNotNull(h[l.child])||null!=e&&e(h)?(n=n[0],d=!0):n=n[1];g+=KD.Json.binderJson(h,n);d&&(h=a.Json.bindJsonToTree(h[l.child],l,e,k+1),g=KD.replaceStrAll(g,"{hasChilds}",h));i+=g});i+=j(l.end,k);k++;return i},jsonToAnalytical:function(f,j){var e=f,i=[],h;for(h in j){i.push(h)}for(h=0;h<i.length;h++){e=a.replaceStrAll(e,"{"+i[h]+"}",j[i[h]])}return e},each:function(e,f){if("function"==typeof f){for(var d=0;d<e.length;d++){f(e[d])}}},eachRecursive:function(f,l,e,k){if(!(KD.isNull(f)||1>f.length)&&(null==k&&(k=0),"function"==typeof l)){for(var j=0;j<f.length;j++){var i=KD.isNotNull(e)&&KD.isNotNull(f[j][e])&&"object"==typeof f[j][e]&&0<f[j][e].length;l(f[j],k,j==f.length-1);i&&a.Json.eachRecursive(f[j][e],l,e,k+1)}}},itemEach:function(f,h){if("function"==typeof h){for(var e=this.getItemArray(f),g=0;g<e.length;g++){h(e[g],f[e[g]],f)}}},getItemArray:function(e){var f=[];if(a.isNull(e)){return f}for(var d in e){f.push(d)}return f},getString:function(f){if(!a.isObject(f)||null==f||void 0==f){return f}var l="{0}",e=[];if(f instanceof Array){for(var l="[0]",k=0;k<f.length;k++){a.isObject(f[k])?e.push(a.Json.getString(f[k])):e.push('"'+f[k]+'"')}}else{var k={},j;for(j in f){if(k[j]!=f[j]){var i=f[j];a.isObject(i)?e.push('"'+j+'":'+a.Json.getString(i)):e.push('"'+j+'":'+("string"==typeof i?'"'+i+'"':i))}}}return a.replaceStrAll(l,"0",e.join(","))}};a.Global={modifyAHref:function(){$("a[href='#']").each(function(){$(this).attr("href","javascript:void(0)")})},replaceErrorImg:function(e){for(var f=document.getElementsByTagName("img"),d=0;d<f.length;d++){f[d].onerror=function(){f[d].src=e}}},staticNav:function(f){var h=document.getElementById(f),e=h.offsetTop,g=h.clientWidth;$(window).scroll(function(){(document.documentElement.scrollTop||document.body.scrollTop)>=e?$("#"+f).css("position","fixed").css("top","0px").css("width",g).css("z-index","1000000").addClass("staticNav"):$("#"+f).css("position","")})},toTop:function(){function d(){0<(document.documentElement.scrollTop||document.body.scrollTop)?$("#divToTop").show():$("#divToTop").hide()}$("body").append('<div id="divToTop"  ><a title="\u8fd4\u56de\u9876\u90e8" href="javascript:void(0)" ></a></div>');$("#divToTop").click(function(){$("html,body").animate({scrollTop:0},1000)}).attr("style","width:64px;position:fixed; left:50%; margin-left:580px; bottom:100px;_position:absolute;left:50%;_top:expression(eval(document.documentElement.scrollTop+document.documentElement.clientHeight-this.offsetHeight)-100);display: none;").find("a").attr("style","background: url('http://izaijia.com/images/toTop.png') no-repeat;width: 54px; height: 54px; display: block;").mouseover(function(){$(this).css("background-position","0 -55px")}).mouseout(function(){$(this).css("background-position","0 0")});window.onscroll=function(){d()};$(window).scroll(function(){d()})},setEnterBtn:function(d){$("body").unbind("keydown");$("body").keydown(function(e){if(13==e.keyCode){return a.Form.isJqueryNode(d)?$(d).eq(0).click():$("#"+d).click(),!1}})}};a.ShowDialog={showTips:function(g,j){$("#JS_TIPS")&&($(".JS_TIPS").remove(),$("#JS_TIPS").remove(),clearTimeout(i));i='<div class="JS_TIPS error" id="JS_TIPS" style="text-align: center;position: fixed;top: 0;left: 0;width: 100%;z-index: 10000;"><div  style="background-color: #2d2d2d;display: inline-block;min-width: 280px;padding: 5px 30px;color: #fff;">'+g+"</div></div>";$("body").append(i);var f="function"==typeof j;if(!f){try{$("#"+j).focus()}catch(h){}}var i=setTimeout(function(){$("#JS_TIPS").animate({opacity:"0"},1000,function(){$(this).remove();f&&j()})},2000)},showWarning:function(g,j){$("#JS_TIPS")&&($(".JS_TIPS").remove(),$("#JS_TIPS").remove(),clearTimeout(i));i='<div class="JS_TIPS error" id="JS_TIPS" style="text-align: center;position: fixed;top: 0;left: 0;width: 100%;z-index: 10000;"><div  style="background-color:#bf0a10;display: inline-block;min-width: 280px;padding: 5px 30px;color: #fff;">'+g+"</div></div>";$("body").append(i);var f="function"==typeof j;if(!f){try{$("#"+j).focus()}catch(h){}}var i=setTimeout(function(){$("#JS_TIPS").animate({opacity:"0"},1000,function(){$(this).remove();f&&j()})},2000)},floatTips:function(r,p,q,o,n,j,m,g){function i(d){d+="";return""==d?"0":0<d.indexOf("%")||0<d.indexOf("px")?d:d+"px"}null==g&&(g=1);null==n&&(n=200);null==j&&(j="auto");p='<div class="floatdialog"><div style="float: right; cursor: pointer; position: relative;"><div style="position: absolute; left:'+i(p)+"; top:"+i(q)+"; font-size: 12px; opacity: "+g+";width: "+i(n)+";heigth:"+i(j)+';">'+o+"</div></div></div>";0==$(".floatdialog").length&&(0<r.children().length?r.children().eq(0).before(p):r.before(p));null!=m&&0!=m||r.mouseleave(function(){$(".floatdialog").remove()})}};a.RegExp={isUrl:function(d){return d.toLowerCase().match(/^((https|http|ftp|rtsp|mms)?:\/\/)?(([0-9a-zA-Z_!~*'().&=+$%-]+: )?[0-9a-zA-Z_!~*'().&=+$%-]+@)?(([0-9]{1,3}\.){3}[0-9]{1,3}|([0-9a-zA-Z_!~*'()-]+\.)*([0-9a-zA-Z][0-9a-zA-Z-]{0,61})?[0-9a-zA-Z]\.[a-zA-Z]{2,6})(:[0-9]{1,4})?((\/?)|(\/[0-9a-zA-Z_!~*'().;?:@&=+$,%#-]+)+\/?)$/)?!0:!1},isEmail:function(d){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,10}){1,2})$/.test(d)},isTelPhone:function(d){return/^((\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$)$/.test(d)},isPhone:function(d){return/^1[3|5|7|8|][0-9]{9}$/.test(d)},isTime:function(d){return(new Date(d)).toString()!=(new Date("is not a time !")).toString()}};a.Animate={LoadingSet:{loadStart:function(d){if(0===$("#loadingbar").length){switch($("body").append('<div id=\'loadingbar\'><style type="text/css" id="loadingbarStyle">#loadingbar{position:fixed;z-index:2147483647;top:0;left:-6px;width:1%;height:2px;background:#b91f1f;-moz-border-radius:1px;-webkit-border-radius:1px;border-radius:1px;-moz-transition:all 500ms ease-in-out;-ms-transition:all 500ms ease-in-out;-o-transition:all 500ms ease-in-out;-webkit-transition:all 500ms ease-in-out;transition:all 500ms ease-in-out;}#loadingbar.left{left:100%;right:0;width:100%;}#loadingbar.up{left:0;top:100%;width:5px;bottom:0;height:100%;}#loadingbar.down{left:0;width:5px;height:0;}#loadingbar.waiting dd,#loadingbar.waiting dt{-moz-animation:pulse 2s ease-out 0 infinite;-ms-animation:pulse 2s ease-out 0 infinite;-o-animation:pulse 2s ease-out 0 infinite;-webkit-animation:pulse 2s ease-out 0 infinite;animation:pulse 2s ease-out 0 infinite;}#loadingbar dt{opacity:.6;width:180px;right:-80px;clip:rect(-6px,90px,14px,-6px);}#loadingbar dd{opacity:.6;width:20px;right:0;clip:rect(-6px,22px,14px,10px);}#loadingbar dd,#loadingbar dt{position:absolute;top:0;height:2px;-moz-box-shadow:#b91f1f 1px 0 6px 1px;-ms-box-shadow:#b91f1f 1px 0 6px 1px;-webkit-box-shadow:#B91F1F 1px 0 6px 1px;box-shadow:#B91F1F 1px 0 6px 1px;-moz-border-radius:100%;-webkit-border-radius:100%;border-radius:100%;}#loadingbar.left dt{opacity:.6;width:180px;left:-4px;clip:rect(-6px,185px,14px,25px);}#loadingbar.left dd{opacity:.6;width:20px;left:0;margin:0;clip:rect(-6px,22px,14px,0px);}#loadingbar.left dd,#loadingbar.left dt{top:0;height:2px;}#loadingbar.down dt{opacity:.6;height:180px;top:auto;bottom:-47px;clip:rect(-6px,20px,130px,-6px);}#loadingbar.down dd{opacity:.6;height:20px;top:auto;bottom:0;clip:rect(-6px,22px,20px,10px);margin:0;}#loadingbar.down dd,#loadingbar.down dt{left:-5px;right:auto;width:10px;}#loadingbar.up dt{opacity:.6;height:180px;bottom:auto;top:-10px;clip:rect(13px,20px,190px,-6px);}#loadingbar.up dd{opacity:.6;height:20px;bottom:auto;top:0;clip:rect(-6px,22px,25px,10px);margin:0;}#loadingbar.up dd,#loadingbar.up dt{left:-5px;right:auto;width:10px;}@keyframes pulse{30opacity:0.6;}60%{opacity:0;}100%{opacity:0.6;}}@-moz-keyframes pulse{30opacity:0.6;}60%{opacity:0;}100%{opacity:0.6;}}@-ms-keyframes pulse{30opacity:0.6;}60%{opacity:0;}100%{opacity:0.6;}}@-webkit-keyframes pulse{30opacity:0.6;}60%{opacity:0;}100%{opacity:0.6;}}</style></div>'),$("#loadingbar").addClass("waiting").append($("<dt/><dd/>")),d){case"right":$("#loadingbar").width(50+30*Math.random()+"%");break;case"left":$("#loadingbar").addClass("left").animate({right:0,left:100-(50+30*Math.random())+"%"},200);break;case"down":$("#loadingbar").addClass("down").animate({left:0,height:50+30*Math.random()+"%"},200);break;case"up":$("#loadingbar").addClass("up").animate({left:0,top:100-(50+30*Math.random())+"%"},200)}}},loadEnd:function(d){switch(d){case"right":$("#loadingbar").width("101%").delay(200).fadeOut(400,function(){$(this).remove()});break;case"left":$("#loadingbar").css("left","0").delay(200).fadeOut(400,function(){$(this).remove()});break;case"down":$("#loadingbar").height("101%").delay(200).fadeOut(400,function(){$(this).remove()});break;case"up":$("#loadingbar").css("top","0").delay(200).fadeOut(400,function(){$(this).remove()})}}}};a.Form={getElements:function(d){a.isNull(d)&&(d="[data-role='val']");var e=[];$(d).each(function(){e.push($(this).attr("id"))});return e},getParams:function(e,f){"function"==typeof e&&(f=e,e=null);a.isNull(e)&&(e="[data-role='val']");var d={};$(e).each(function(){var g=$(this).attr("name");a.isNull(g)&&(g=$(this).attr("id"));var j="";if(void 0==d[g]){if(j=$(this).attr("type"),"html"==$(this).attr("role-text")){j=$(this).html()}else{if("radio"==j){j=$("input[name='"+g+"'][type='radio']:checked").val()}else{if("checkbox"==j){var i=[];$("input[name='"+g+"'][type='checkbox']").each(function(){$(this).prop("checked")&&i.push($(this).val())});j=i.toString()}else{j=$(this).val()}}}}a.isNotNull(j)&&"string"==typeof j&&(j=j.replace(/\\/g,"\\\\"));d[g]=j});KD.isFunc(f)&&f(d);return d},getFormData:function(d,e){return a.isNull(d)?null:this.getParams("#"+d+" input,#"+d+" textarea,#"+d+" select",e)},validateField:function(r,p,q){function o(f,d,g){if(!KD.isNull(d)){return d}switch(g){case 1:d="\u4e0d\u80fd\u4e3a\u7a7a\uff01";break;case 2:d="\u5fc5\u987b\u662f\u6570\u5b57\uff01";break;case 3:d="\u5bf9\u5e94\u7684\u503c\u4e0d\u80fd\u5927\u4e8e{0}\uff01";break;case 4:d="\u5bf9\u5e94\u7684\u503c\u4e0d\u80fd\u5c0f\u4e8e{0}\uff01";break;case 5:d="\u4e0d\u80fd\u8d85\u8fc7\u4e2a{0}\u5b57\u7b26\uff01";break;case 6:d="\u4e0d\u80fd\u5c11\u4e8e{0}\u5b57\u7b26\uff01";break;case 7:case 8:case 9:case 10:d="\u683c\u5f0f\u4e0d\u6b63\u786e\uff01";break;case 11:d="\u4e0e\u5bf9\u5e94\u9879\u4e0d\u5339\u914d\uff01";break;case 12:d="\u65f6\u95f4\u683c\u5f0f\u4e0d\u6b63\u786e\uff01";break;case 13:d="\u5bf9\u5e94\u7684\u65f6\u95f4\u4e0d\u80fd\u5927\u4e8e{0}\uff01";break;case 14:d="\u5bf9\u5e94\u7684\u65f6\u95f4\u4e0d\u80fd\u5c0f\u4e8e{0}\uff01"}return f.defSubject+d}for(var m={objId:"",defSubject:null,isNull:!1,nullMsg:"",isNumber:null,numberMsg:"",isTime:null,timeMsg:"",maxVal:null,maxMsg:"",minVal:null,minMsg:"",maxLength:null,maxLMsg:"",minLength:null,minLMsg:"",isEmail:null,emailMsg:"",isUrl:null,urlMsg:"",isPhone:null,phoneMsg:"",isTelPhone:null,telPhoneMsg:"",verifyId:null,verifyMsg:"",showFunc:null,isVerify:!0,defLength:!1,customFunc:null},j=0;j<r.length;j++){var n=$.extend({},m,r[j]);if(n.isVerify){n.defLength&&(n.maxLength=20,n.minLength=5);var e=function(d,f){q||(alert(d),null!=f&&$("#"+f).focus().select())};"function"==typeof p&&(q||(e=p));"function"!=typeof n.showFunc||q||(e=n.showFunc);if(a.isFunc(n.customFunc)){var i=n.customFunc(e);if(1!=i&&void 0!=i){return !1}}if(!a.isNull(n.objId)){i="";i=($("#"+n.objId).prop("tagName")+"").toLowerCase();i=0==i.indexOf("input")||0==i.indexOf("select")||0==i.indexOf("textarea")?$("#"+n.objId).val():$("#"+n.objId).html();if(!n.isNull&&a.isNull(i)){return e(o(n,n.nullMsg,1),n.objId),!1}if(null!=n.isNumber&&n.isNumber){if(/^[\D]*$/.test(i)){return e(o(n,n.numberMsg,2),n.objId),!1}if(null!=n.maxVal&&i>n.maxVal){return e(o(n,n.maxMsg,3).replace(/\{0\}/g,n.maxVal),n.objId),!1}if(null!=n.minVal&&i<n.minVal){return e(o(n,n.minMsg,4).replace(/\{0\}/g,n.minVal),n.objId),!1}}if(null!=n.maxLength&&i.length>n.maxLength){return e(o(n,n.maxLMsg,5).replace(/\{0\}/g,n.maxLength),n.objId),!1}if(null!=n.minLength&&i.length<n.minLength){return e(o(n,n.minLMsg,6).replace(/\{0\}/g,n.minLength),n.objId),!1}if(null!=n.isEmail&&!a.RegExp.isEmail(i)){return e(o(n,n.emailMsg,7),n.objId),!1}if(null!=n.isUrl&&!a.RegExp.isUrl(i)){return e(o(n,n.urlMsg,8),n.objId),!1}if(null!=n.isPhone&&!a.RegExp.isPhone(i)){return e(o(n,n.phoneMsg,9),n.objId),!1}if(null!=n.isTelPhone&&!a.RegExp.isTelPhone(i)){return e(o(n,n.telPhoneMsg,10),n.objId),!1}if(null!=n.verifyId&&i!=$("#"+n.verifyId).val()){return e(o(n,n.verifyMsg,11),n.objId),!1}if(null!=n.isTime&&n.isTime){if(a.RegExp.isTime(i)){i=new Date(i);if(null!=n.maxVal&&0>a.Date.minusTime(i,n.maxVal)){return e(o(n,n.maxMsg,13).replace(/\{0\}/g,a.Date.format(n.maxVal)),n.objId),!1}if(null!=n.minVal&&0>a.Date.minusTime(n.minVal,i)){return e(o(n,n.minMsg,14).replace(/\{0\}/g,a.Date.format(n.minVal)),n.objId),!1}}else{return e(o(n,n.timeMsg,12),n.objId),!1}}}}}return !0},focus:function(e,f){var d="input:text,textarea";a.isNull(f)||(d="#"+f+" "+d);if(a.isNull(e)){e=0}else{if(isNaN(parseInt(e))){$(d).filter("#"+e).focus();return}}$(d).eq(e).focus()},keyUpOnValChange:function(e,f,d){$("#"+e).keyup(function(){var g=$("#"+e).val();if(KD.isNull(g)||$("#"+e).attr("data-old-"+e)==g){return !1}$("#"+e).attr("data-old-"+e,g);setTime=null;a.isNull(d)&&(d=888);setTime=setTimeout(function(){$("#"+e).val()==g&&f()},d)})},isJqueryNode:function(d){try{return $(d)}catch(e){return !1}},bindVal:function(f,j){function e(d){switch(d.prop("tagName").toLowerCase()){case"input":case"textarea":case"select":d.val(j);break;case"img":d.attr("src",j);break;case"a":d.attr("href",j);break;default:d.html(j)}}if(null!=j){var i=a.isJqueryNode("#"+f);if(i&&(0<i.length&&e(i),i=$("[data-bindId='"+f+"']"),0<i.length)){for(var h=0;h<i.length;h++){e(i.eq(h))}}}},bindJsonToNode:function(d){a.Json.itemEach(d,a.Form.bindVal)}};a.Date={format:function(f,j){a.isNull(j)&&(j="yyyy/MM/dd");var e="";typeof f==typeof new Date?e=f:"string"==typeof f&&0<f.indexOf("/Date(")?(f=(f+"").replace("/Date(","").replace(")/",""),0<f.indexOf("+")?f=f.substring(0,f.indexOf("+")):0<f.indexOf("-")&&(f=f.substring(0,f.indexOf("-"))),e=new Date(parseInt(f,10))):e=new Date(f);var i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(j)&&(j=j.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var h in i){(new RegExp("("+h+")")).test(j)&&(j=j.replace(RegExp.$1,1==RegExp.$1.length?i[h]:("00"+i[h]).substr((""+i[h]).length)))}return 1==e.getFullYear()?"":j},minusTime:function(d,e){return Date.parse(e)-Date.parse(d)}};a.Browser={isIE:function(d){var e=document.createElement("b");e.innerHTML="\x3c!--[if IE "+d+"]><i></i><![endif]--\x3e";return 1==e.getElementsByTagName("i").length},ieVersion:function(d){a.isNull(d)&&(d=9);if(a.Browser.isIE()){for(var e="";5<=d;d--){e+="\x3c!--[if IE "+d+"]><i>"+d+"</i><![endif]--\x3e"}d=document.createElement("b");d.innerHTML=e;return parseInt(d.getElementsByTagName("i")[0].innerText)}return -1}};a.Extensions={bind:function(){Array.prototype.remove=function(d){d=this.indexOf(d);-1<d&&this.splice(d,1);return this};Array.prototype.indexOf=function(d){for(var e=0;e<this.length;e++){if((this[e]+"").toLowerCase()==(d+"").toLowerCase()){return e}}return -1}}};a.isFunc=function(d){return"function"==typeof d};a.isObject=function(d){return"object"==typeof d};a.isNull=function(d){return""==d||void 0==d||null==d};a.isNotNull=function(d){return !a.isNull(d)};a.replaceStrAll=function(e,f,d){if(null==d||void 0==d){d=""}return"object"==typeof e?e:e.replace(new RegExp(f,"g"),d)};a.node=function(d){return document.getElementById(d)};a.getQuery=a.Url.getQuery;a.doAjax=function(i){var n=function(g,f,o){console.log(g);console.log(f);console.log(o);if(void 0!=g.responseText){f={};try{f=$.parseJSON(g.responseText)}catch(h){f.exceptionMessage=o}if(void 0!=f.exceptionMessage){return a.ShowDialog.showWarning(f.exceptionMessage),!1}}a.ShowDialog.showWarning("\u4fe1\u606f\u52a0\u8f7d\u9519\u8bef\uff01")},e=$.extend({},{type:"POST",async:!0,url:"",data:"",dataType:null,contentType:null,error:null,beforeSend:function(){},success:function(f,d,g){},animate:!0,direction:"right"},i);null==e.error&&(e.error=n);var m=!0;try{"boolean"!=typeof e.error||e.error||(e.error=function(d){},m=!1);var k={dataType:e.dataType,type:e.type,async:e.async,url:e.url,data:e.data,error:e.error,success:e.success,beforeSend:function(){m&&e.animate&&a.Animate.LoadingSet.loadStart(e.direction);e.beforeSend()}};this.isNull(e.contentType)||(k.contentType=e.contentType);var j=$.ajax(k);j.always(function(){m&&e.animate&&a.Animate.LoadingSet.loadEnd(e.direction)});return j}catch(l){m&&e.animate&&a.Animate.LoadingSet.loadEnd(e.direction)}};a.post=function(f,j,e,i,h){return a.doAjax({type:"POST",url:f,data:j,success:e,error:i,animate:h})};a.postN=function(f,h,e,g){a.post(f,h,e,g,!1)};a.get=function(f,j,e,i,h){return a.doAjax({type:"GET",url:f,data:j,success:e,error:i,animate:h})};a.getHtml=function(e,f,d){return a.get(e,null,f,d)};a.getN=function(f,h,e,g){a.get(f,h,e,g,!1)};a.del=function(f,j,e,i,h){return a.doAjax({type:"DELETE",url:f,data:j,success:e,error:i,animate:h})};a.put=function(f,j,e,i,h){return a.doAjax({type:"PUT",url:f,data:j,success:e,error:i,animate:h})};a.ajax=function(i,n,e,m,k,j,l){return a.doAjax({type:n,url:i,data:e,success:m,error:k,contentType:j,dataType:l})};a.showTips=a.ShowDialog.showTips;a.showWarning=a.ShowDialog.showWarning;a.isJqueryNode=a.Form.isJqueryNode;a.Extensions.bind()})(window);